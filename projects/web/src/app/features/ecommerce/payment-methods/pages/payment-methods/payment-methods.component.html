<!-- Payment Methods Page -->

<!-- Header Tag -->
@if (!showBottomOverlay) {
    <app-header
        [headerTagType]="'overlay-header-subpage'"
        [overlayHeaderPageTitle]="'Payment Methods'"
    ></app-header>
}

<!-- Main -->
<!-- <main role="main" style="padding-bottom: var(--espacio-vertical);"> -->
@if (!showBottomOverlay) {
    <main
        role="main"
        style="
            padding-top: var(--header-altura-overlay-header-subpage);
            padding-bottom: calc(
                var(--footer-altura-con-navigation-ctas-and-copy-btn-sm) + var(--espacio-vertical)
            );
        "
    >
        <div class="illustration-and-content-container">
            <div class="illustration-container">
                <!-- [Illustration] -->
            </div>
            <div class="content-container">
                <!-- Payment Methods List -->
                @if (paymentMethods.length > 0) {
                    <div class="section">
                        <div class="container">
                            <!-- Payment Method Cards List -->
                            <div class="payment-method-card-list">
                                <!-- Payment Methods -->
                                <!-- FIXME: mostrar primero las últimas addresses añadidas -->
                                @for (paymentMethod of paymentMethods; track paymentMethod) {
                                    <app-credit-card
                                        [cardIsDefault]="1"
                                        [cardType]="paymentMethod.cardType"
                                        [cardBankName]="paymentMethod.cardBankName"
                                        [cardPersonFullName]="paymentMethod.cardPersonFullName"
                                        [cardLastFourNumbers]="paymentMethod.cardLastFourNumbers"
                                        [cardExpirationMonth]="paymentMethod.cardExpirationMonth"
                                        [cardExpirationYear]="paymentMethod.cardExpirationYear"
                                        [creditCardShowButton]="false"
                                    ></app-credit-card>
                                }
                                <!-- TODO: Añadir la opción de cambiar el Payment Methods por defecto -->
                                <!-- Ejemplo:
                [cardType]             = "'mastercard'"
                [cardBankName]         = "'Bank of America'"
                [cardPersonFullName]   = "'Leslie Flores'"
                [cardLastFourNumbers]  = "'0817'"
                [cardExpirationMonth]  = "'12'"
                [cardExpirationYear]   = "'25'"
                [creditCardShowButton] = "true"
                -->
                            </div>
                        </div>
                    </div>
                }
                @if (paymentMethods.length === 0) {
                    <div class="empty-text container">There is no payment method yet.</div>
                }
            </div>
        </div>
    </main>
}

<!-- Footer Tag -->
@if (!showBottomOverlay) {
    <app-footer
        [navigationShowCtasAndCopy]="true"
        [navigationShowCopy]="false"
        [navigationButtonRightText]="'Add new card'"
        [navigationButtonRightClasses]="'btn btn-outline-secondary btn-sm'"
        [navigationShowButtonRightRightIcon]="true"
        [navigationShowButtonRightRightIconType]="'plus'"
    ></app-footer>
}

<!-- Bottom Overlay -->
@if (showBottomOverlay) {
    <app-bottom-overlay
        [bottomOverlayTitle]="'Add new credit or debit card'"
        [bottomOverlayAddButtonText]="'Add card'"
        [bottomOverlayBodyContent]="'ADD_NEW_PAYMENT_METHOD'"
    ></app-bottom-overlay>
}
