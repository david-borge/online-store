<!-- Loading Spinner -->
<!-- Proceso de carga de una página: Paso 1. Mostrar el Loading Spinner mientras cargo los datos desde la Base de Datos y las imágenes. -->
<!-- Proceso de carga de una página: Paso 4. Una vez las imágenes de la página actual estén descargadas, ocultar el Loading Spinner y mostrar el contenido de la página. -->
<div class="h-100 loading-spinner-container" *ngIf="!imagesInThisPageLoaded">

    <!-- Spinner (SVG with animation included) -->
    <!-- Icon: spinner en https://loading.io/ -->
    <!-- Nota: lo cargo con img porque si pongo el <svg> directamente, no empieza a girar a tiempo. -->
    <img ngSrc="assets/img/icons/spinner-animated.svg" alt="Spinner" width="100" height="100" priority>
    <!-- <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"> <g transform="rotate(0 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(30 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(60 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(90 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(120 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(150 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(180 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(210 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(240 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(270 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(300 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate> </rect> </g><g transform="rotate(330 50 50)"> <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#eecf6e"> <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate> </rect> </g></svg> -->
    
    <!-- (No usado) Spinner (SVG without animation included) -->
    <!-- <svg width="79" height="79" viewBox="0 0 79 79" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M41.8699 23.7C41.8699 21.0821 40.8088 18.96 39.4999 18.96C38.191 18.96 37.1299 21.0821 37.1299 23.7C37.1299 26.3178 38.191 28.44 39.4999 28.44C40.8088 28.44 41.8699 26.3178 41.8699 23.7Z" fill="#EECF6E"/><path d="M49.4525 27.0018C50.7614 24.7347 50.9036 22.3663 49.77 21.7119C48.6365 21.0574 46.6564 22.3647 45.3475 24.6318C44.0386 26.8989 43.8965 29.2673 45.03 29.9218C46.1636 30.5762 48.1436 29.2689 49.4525 27.0018Z" fill="#EECF6E"/><path d="M54.3683 33.6527C56.6354 32.3438 57.9427 30.3638 57.2883 29.2302C56.6338 28.0967 54.2654 28.2388 51.9983 29.5477C49.7312 30.8566 48.4239 32.8367 49.0784 33.9702C49.7328 35.1038 52.1012 34.9616 54.3683 33.6527Z" fill="#EECF6E"/><path d="M55.3 41.8699C57.9179 41.8699 60.04 40.8088 60.04 39.4999C60.04 38.191 57.9179 37.1299 55.3 37.1299C52.6822 37.1299 50.56 38.191 50.56 39.4999C50.56 40.8088 52.6822 41.8699 55.3 41.8699Z" fill="#EECF6E"/><path d="M51.9982 49.4522C54.2653 50.7612 56.6337 50.9033 57.2881 49.7698C57.9426 48.6362 56.6353 46.6562 54.3682 45.3473C52.1011 44.0384 49.7327 43.8962 49.0782 45.0298C48.4238 46.1633 49.7311 48.1433 51.9982 49.4522Z" fill="#EECF6E"/><path d="M45.3475 54.3681C46.6565 56.6352 48.6365 57.9425 49.77 57.288C50.9036 56.6336 50.7614 54.2652 49.4525 51.9981C48.1436 49.731 46.1636 48.4236 45.03 49.0781C43.8965 49.7326 44.0386 52.101 45.3475 54.3681Z" fill="#EECF6E"/><path d="M37.1301 55.3C37.1301 57.9179 38.1912 60.04 39.5001 60.04C40.809 60.04 41.8701 57.9179 41.8701 55.3C41.8701 52.6822 40.809 50.56 39.5001 50.56C38.1912 50.56 37.1301 52.6822 37.1301 55.3Z" fill="#EECF6E"/><path d="M29.5475 51.9982C28.2386 54.2653 28.0964 56.6337 29.23 57.2881C30.3635 57.9426 32.3436 56.6353 33.6525 54.3682C34.9614 52.1011 35.1035 49.7327 33.97 49.0782C32.8364 48.4238 30.8564 49.7311 29.5475 51.9982Z" fill="#EECF6E"/><path d="M24.6317 45.3473C22.3646 46.6562 21.0573 48.6362 21.7117 49.7698C22.3662 50.9033 24.7346 50.7612 27.0017 49.4523C29.2688 48.1434 30.5761 46.1633 29.9216 45.0298C29.2672 43.8962 26.8988 44.0384 24.6317 45.3473Z" fill="#EECF6E" fill-opacity="0.8"/><path d="M23.7 37.1301C21.0821 37.1301 18.96 38.1912 18.96 39.5001C18.96 40.809 21.0821 41.8701 23.7 41.8701C26.3178 41.8701 28.44 40.809 28.44 39.5001C28.44 38.1912 26.3178 37.1301 23.7 37.1301Z" fill="#EECF6E" fill-opacity="0.6"/><path d="M27.0018 29.5478C24.7347 28.2388 22.3663 28.0967 21.7119 29.2302C21.0574 30.3638 22.3647 32.3438 24.6318 33.6527C26.8989 34.9616 29.2673 35.1038 29.9218 33.9702C30.5762 32.8367 29.2689 30.8567 27.0018 29.5478Z" fill="#EECF6E" fill-opacity="0.4"/><path d="M33.6525 24.6319C32.3435 22.3648 30.3635 21.0575 29.23 21.712C28.0964 22.3664 28.2386 24.7348 29.5475 27.0019C30.8564 29.269 32.8364 30.5764 33.97 29.9219C35.1035 29.2674 34.9614 26.899 33.6525 24.6319Z" fill="#EECF6E" fill-opacity="0.2"/></svg> -->

</div>



<!-- Page content (once loading is donde) -->
<!-- Proceso de carga de una página: Paso 4. Una vez las imágenes de la página actual estén descargadas, ocultar el Loading Spinner y mostrar el contenido de la página. -->
<div *ngIf="imagesInThisPageLoaded"
    class="h-100 ocultar"
    [ngClass]="{
        'mostrar-con-animacion': (imagesInThisPageLoaded && !thisPagePreviouslyVisited && currentlyInThePageIEnteredFrom),
        'mostrar-sin-animacion': (imagesInThisPageLoaded && thisPagePreviouslyVisited) || (imagesInThisPageLoaded && !thisPagePreviouslyVisited && !currentlyInThePageIEnteredFrom),
    }">

    <!-- Contenido que pongo entre <app-loading-spinner> y </app-loading-spinner> en otros componentes -->
    <ng-content></ng-content>

</div>